<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tin tài khoản</title>
    <!--  jquery  -->
    <script src="/public/jquery-3.7.1.min.js"></script>
    <!--  bootstrap  -->
    <link rel="stylesheet" href="/public/bootstrap/css/bootstrap.css">
    <script src="/public/bootstrap/js/bootstrap.bundle.js"></script>
    <!--  css  -->
    <link rel="stylesheet" href="/layouts/layout.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <!--  js  -->
</head>
<style>
    body {
        background: #f5f5f5;
        margin-top: 20px;
    }

    .ui-w-80 {
        width: 80px !important;
        height: auto;
    }

    .btn-default {
        border-color: rgba(24, 28, 33, 0.1);
        background: rgba(0, 0, 0, 0);
        color: #4E5155;
    }

    label.btn {
        margin-bottom: 0;
    }

    .btn-outline-primary {
        border-color: #26B4FF;
        background: transparent;
        color: #26B4FF;
    }

    .btn {
        cursor: pointer;
    }

    .text-light {
        color: #babbbc !important;
    }

    .btn-facebook {
        border-color: rgba(0, 0, 0, 0);
        background: #3B5998;
        color: #fff;
    }

    .btn-instagram {
        border-color: rgba(0, 0, 0, 0);
        background: #000;
        color: #fff;
    }

    .card {
        background-clip: padding-box;
        box-shadow: 0 1px 4px rgba(24, 28, 33, 0.012);
    }

    .row-bordered {
        overflow: hidden;
    }

    .account-settings-fileinput {
        position: absolute;
        visibility: hidden;
        width: 1px;
        height: 1px;
        opacity: 0;
    }

    .account-settings-links .list-group-item.active {
        font-weight: bold !important;
    }

    html:not(.dark-style) .account-settings-links .list-group-item.active {
        background: transparent !important;
    }

    .account-settings-multiselect ~ .select2-container {
        width: 100% !important;
    }

    .light-style .account-settings-links .list-group-item {
        padding: 0.85rem 1.5rem;
        border-color: rgba(24, 28, 33, 0.03) !important;
    }

    .light-style .account-settings-links .list-group-item.active {
        color: #4e5155 !important;
    }

    .material-style .account-settings-links .list-group-item {
        padding: 0.85rem 1.5rem;
        border-color: rgba(24, 28, 33, 0.03) !important;
    }

    .material-style .account-settings-links .list-group-item.active {
        color: #4e5155 !important;
    }

    .dark-style .account-settings-links .list-group-item {
        padding: 0.85rem 1.5rem;
        border-color: rgba(255, 255, 255, 0.03) !important;
    }

    .dark-style .account-settings-links .list-group-item.active {
        color: #fff !important;
    }

    .light-style .account-settings-links .list-group-item.active {
        color: #4E5155 !important;
    }

    .light-style .account-settings-links .list-group-item {
        padding: 0.85rem 1.5rem;
        border-color: rgba(24, 28, 33, 0.03) !important;
    }

    .hidden {
        display: none;
    }


</style>
<style>
    .nav.nav-pills .nav-link{
        color: gray;
        &.active{
            color: white;
        }
    }
</style>
<body>

<div id="HEADER">
    <script>
        $("#HEADER").load("/includes/header.html");
    </script>
</div>
<div id="CONTENT">
    <div class="container light-style my-5">
        <div class="row">
            <!-- left side -->
            <div class="col-3 me-3 bg-white shadow rounded-2 px-4" style="min-height: 40rem">
                <div class="row pt-3 pb-2 mb-3 border-bottom">
                    <div class="col-3 me-1">
                        <div class="text-bg-secondary rounded-circle ratio-1x1 ratio" style="width: 4rem;">
                            <div class="custom-icon" style="--size: 3rem">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="col d-flex flex-column gap-1 justify-content-center">
                        <div class="fw-bold text-capitalize">Đặng Anh Kiệt</div>
                        <div class="text-muted">#anhkiet123</div>
                    </div>
                </div>
                <div class="nav nav-pills flex-column gap-3" id="v-pills-tab" role="tablist">
                    <div role="button" class="nav-link active" data-bs-toggle="pill" data-bs-target="#account-general">
                        <div class="custom-icon me-2 float-start" style="--size: 1.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                            </svg>
                        </div>
                        Tài khoản của tôi
                    </div>
                    <div role="button" class="nav-link" data-bs-toggle="pill" data-bs-target="#account-purchase-order">
                        <div class="custom-icon me-2 float-start" style="--size: 1.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16">
                                <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/>
                                <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/>
                            </svg>
                        </div>
                        Đơn mua
                    </div>
                    <!--                    <div role="button" class="nav-link" data-bs-toggle="pill" data-bs-target="#account-info">Thông Tin</div>-->
                    <div role="button" class="nav-link" data-bs-toggle="pill" data-bs-target="#account-address">
                        <div class="custom-icon me-2 float-start" style="--size: 1.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                                <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"/>
                                <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                            </svg>
                        </div>
                        Địa Chỉ
                    </div>
                    <div role="button" class="nav-link" data-bs-toggle="pill" data-bs-target="#account-change-password">
                        <div class="custom-icon float-start me-2" style="--size: 1.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key" viewBox="0 0 16 16">
                                <path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"/>
                                <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                            </svg>
                        </div>
                        Đổi Mật Khẩu
                    </div>
                    <div role="button" class="nav-link text-danger fw-semibold ">
                        <div class="custom-icon me-2 float-start" style="--size: 1.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                                <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                            </svg>
                        </div>
                        Đăng xuất
                    </div>
                </div>
            </div>
            <!-- right side -->
            <div class="col bg-white rounded-2 shadow p-5">
                <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade active show" id="account-general">
                        <div>
                            <h4 class="fw-semibold">Quản lý thông tin cá nhân</h4>
                            <hr class="text-light">
                        </div>
                        <form class="d-flex flex-column gap-4">
                            <div class="row">
                                <label for="username" class="col-form-label col-sm-2 text-muted">Tên đăng nhập</label>
                                <div class="col-sm-10">
                                    <input type="text" readonly class="form-control-plaintext" id="username" value="anhkiet123" >
                                </div>
                            </div>
                            <div class="row">
                                <label for="fullname" class="col-form-label col-sm-2 text-muted">Họ và tên</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="fullname" value="Đặng Anh Kiệt">
                                </div>
                            </div>
                            <div class="row">
                                <label for="email" class="col-form-label col-sm-2 text-muted">Email</label>
                                <div class="col-sm-10">
                                    <input type="text" readonly class="form-control-plaintext" id="email" value="anhkiet123@gmail.com">
                                </div>
                            </div>
                            <div class="row">
                                <label for="phone-number" class="col-form-label col-sm-2 text-muted">Số điện thoại</label>
                                <div class="col-sm-10">
                                    <input type="text" readonly class="form-control-plaintext" id="phone-number" value="0123 456 789">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-form-label col-sm-2 text-muted">Giới tính </label>
                                <div class="col-sm-10">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="gender-male" checked>
                                        <label class="form-check-label" for="gender-male">Nam</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="gender-female">
                                        <label class="form-check-label" for="gender-female">Nữ</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="gender" id="gender-other">
                                        <label class="form-check-label" for="gender-other">Khác </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <label for="birth-date" class="col-form-label col-sm-2 text-muted">Ngày sinh</label>
                                <div class="col-sm-10">
                                    <input type="date" class="form-control-plaintext" id="birth-date" value="2004-01-01" style="width: min-content;">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary px-4 py-2 ms-auto disabled" style="width: max-content">Lưu thay đổi</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="account-change-password">
                        <div>
                            <h4 class="fw-semibold">Thay đổi mật khẩu </h4>
                            <hr class="text-light">
                        </div>
                        <form class="d-flex flex-column gap-4">
                            <div class="row">
                                <label for="current-password" class="col-form-label text-muted">Mật khẩu hiện tại</label>
                                <div class="col-12">
                                    <input type="password" class="form-control" id="current-password" value="password" >
                                </div>
                            </div>
                            <div class="row">
                                <label for="new-password" class="col-form-label text-muted">
                                    Mật khẩu mới
                                    <span class="text-danger" data-bs-toggle="tooltip" data-bs-title="Mật khẩu mới phải chứa ít nhất 8 kí tự. Có ít nhất 1 kí tự in hoa và số" data-bs-placement="right">*</span>
                                </label>
                                <div class="col-12">
                                    <input type="password" class="form-control" id="new-password" value="" >
                                </div>
                            </div>
                            <div class="row">
                                <label for="new-password-check" class="col-form-label text-muted">
                                    Nhập lại mật khẩu mới
                                    <span class="text-danger" data-bs-toggle="tooltip" data-bs-title="Mật khẩu phải khớp với mật khẩu mới" data-bs-placement="right">*</span>
                                </label>
                                <div class="col-12">
                                    <input type="password" class="form-control" id="new-password-check" value="" >
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary px-4 py-2 ms-auto disabled" style="width: max-content">Lưu thay đổi</button>
                        </form>
                    </div>
                    <!--                    <div class="tab-pane fade" id="account-info">-->
                    <!--                        <div class="card-body pb-2">-->
                    <!--                            <div class="form-group">-->
                    <!--                                <label class="form-label">Tiểu Sử</label>-->
                    <!--                                <textarea class="form-control" rows="5">-->
                    <!--                                    .</textarea>-->
                    <!--                            </div>-->
                    <!--                            <div class="form-group">-->
                    <!--                                <label class="form-label">Ngày Sinh</label>-->
                    <!--                                <div class="d-flex gap-4 mb-1">-->
                    <!--                                    <select class="form-select-sm " id="day"></select>-->
                    <!--                                    <select class="form-select-sm " id="month"></select>-->
                    <!--                                    <select class="form-select-sm " id="year"></select>-->
                    <!--                                </div>-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                        <hr class="border-light m-0">-->
                    <!--                        <div class="card-body pb-2">-->
                    <!--                            <h6 class="mb-4">Contacts</h6>-->
                    <!--                            <div class="form-group">-->
                    <!--                                <label class="form-label">Phone</label>-->
                    <!--                                <input type="text" class="form-control" value="+84 123 456 7891">-->
                    <!--                            </div>-->
                    <!--                            <div class="form-group">-->
                    <!--                                <label class="form-label">Website</label>-->
                    <!--                                <input type="text" class="form-control" value="">-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                    <div class="tab-pane fade" id="account-address">
                        <div class="card-body pb-2">
                            <div class="form-group">
                                <div class="d-flex justify-content-between align-items-center">
                                    <label class="form-label">Địa Chỉ Của Tôi</label>
                                    <a href="#newAddress" class="btn btn-danger btn-sm mb-3" data-toggle="tab">+ Thêm
                                        địa chỉ mới</a>
                                </div>
                                <div style="height: 1px; background-color: #dbdbdb; width: 100%"></div>
                            </div>
                        </div>
                        <hr class="border-light m-0">
                        <div class="card-body pb-2">
                            <h6 class="mb-4">Địa Chỉ</h6>
                            <div id="addressList">
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade hidden" id="newAddress">
                        <div class="card shadow p-3" style="width: 50rem; height: 100%">
                            <h5>Nhập địa chỉ mới</h5>
                            <div class="form-group">
                                <label for="name">Họ và Tên</label>
                                <input type="text" class="form-control" id="name" placeholder="Nhập họ và tên">
                            </div>
                            <div class="form-group">
                                <label for="phone">SĐT</label>
                                <input type="text" class="form-control" id="phone" placeholder="Nhập số điện thoại">
                            </div>
                            <div class="form-group">
                                <label for="city">Tỉnh/Thành phố</label>
                                <input type="text" class="form-control" id="city" placeholder="Nhập tỉnh/thành phố">
                            </div>
                            <div class="form-group">
                                <label for="district">Quận/Huyện</label>
                                <input type="text" class="form-control" id="district" placeholder="Nhập quận/huyện">
                            </div>
                            <div class="form-group">
                                <label for="ward">Phường/Xã</label>
                                <input type="text" class="form-control" id="ward" placeholder="Nhập phường/xã">
                            </div>
                            <div class="form-group">
                                <label for="ward">Địa Chỉ</label>
                                <input type="text" class="form-control" id="SoNha" placeholder="Nhập Địa chỉ cụ thể">
                            </div>
                            <div class="form-group d-flex justify-content-between align-items-center mt-2 mb-2">
                                <button type="button" onclick="addNewAddress()" class="btn btn-success">Hoàn thành
                                </button>
                                <button type="button" onclick="cancelAddress()" class="btn btn-secondary">Quay lại
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade hidden" id="editAddress">
                        <div class="card shadow p-3" style="width: 50rem; height: 100%">
                            <h5>Cập nhật địa chỉ</h5>
                            <form>
                                <div class="mb-3">
                                    <label for="editName" class="form-label">Họ và tên</label>
                                    <input type="text" class="form-control" id="editName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editPhone" class="form-label">SĐT</label>
                                    <input type="text" class="form-control" id="editPhone" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editCity" class="form-label">Tỉnh/Thành phố</label>
                                    <input type="text" class="form-control" id="editCity" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editDistrict" class="form-label">Quận/Huyện</label>
                                    <input type="text" class="form-control" id="editDistrict" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editWard" class="form-label">Phường/Xã</label>
                                    <input type="text" class="form-control" id="editWard" required>
                                </div>
                                <div class="form-group">
                                    <label for="editSoNha">Địa Chỉ</label>
                                    <input type="text" class="form-control" id="editSoNha"
                                           placeholder="Nhập Địa chỉ cụ thể" required>
                                </div>
                                <button type="button" class="btn btn-primary" onclick="saveUpdatedAddress()">Lưu
                                </button>
                                <button type="button" class="btn btn-secondary" onclick="cancelEditAddress()">Hủy
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="FOOTER">
</div>
</body>
<script>
    const daySelect = document.getElementById('day');
    for (let day = 1; day <= 31; day++) {
        const option = document.createElement('option');
        option.value = day;
        option.textContent = day;
        daySelect.appendChild(option);
    }

    // Tạo tùy chọn tháng
    const monthSelect = document.getElementById('month');
    for (let month = 1; month <= 12; month++) {
        const option = document.createElement('option');
        option.value = month;
        option.textContent = `Tháng ${month}`;
        monthSelect.appendChild(option);
    }


    // Tạo tùy chọn năm
    const yearSelect = document.getElementById('year');
    const currentYear = new Date().getFullYear();
    for (let year = 1950; year <= currentYear; year++) {
        const option = document.createElement('option');
        option.value = year;
        option.textContent = year;
        yearSelect.appendChild(option);
    }


</script>
<script>
    // Hàm thêm địa chỉ mới
    function addNewAddress() {
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const city = document.getElementById("city").value;
        const district = document.getElementById("district").value;
        const ward = document.getElementById("ward").value;
        const diachi = document.getElementById("SoNha").value;

        if (!name || !phone || !city || !district || !ward || !diachi) {
            alert("Vui lòng điền đầy đủ thông tin.");
            return;
        }

        const newAddress = `
    <div class="card address-card p-3 mb-3">
        <p><strong>${name}</strong> <span class="text-muted">${phone}</span></p>
        <p>${ward}, ${district}</p>
        <p>${city}</p>
        <p class="address-specific">${diachi}</p>
        <button class="btn btn-warning btn-sm edit-btn">Chỉnh sửa</button>
    </div>
    `;

        document.getElementById("addressList").insertAdjacentHTML("beforeend", newAddress);

        document.getElementById("name").value = "";
        document.getElementById("phone").value = "";
        document.getElementById("city").value = "";
        document.getElementById("district").value = "";
        document.getElementById("ward").value = "";
        document.getElementById("SoNha").value = "";

        document.getElementById("newAddress").classList.remove("show", "active");
        document.querySelector('[href="#account-address"]').classList.add("active");
        document.getElementById("account-address").classList.add("show", "active");

        addEditEventListeners();
    }

    function addEditEventListeners() {
        const editButtons = document.querySelectorAll('.edit-btn');
        editButtons.forEach(button => {
            button.removeEventListener('click', editAddressClickHandler);
            button.addEventListener('click', editAddressClickHandler);
        });
    }

    function editAddressClickHandler(event) {
        const addressCard = event.target.closest('.address-card');
        editAddressFromCard(addressCard);
    }

    // hàm edit địac chỉ
    function editAddressFromCard(addressCard) {
        if (!addressCard) {
            alert("Không tìm thấy địa chỉ để chỉnh sửa.");
            return;
        }

        const name = addressCard.querySelector('strong').textContent;
        const phone = addressCard.querySelector('.text-muted').textContent.trim();
        const ward = addressCard.querySelector('p:nth-child(2)').textContent.split(',')[0];
        const district = addressCard.querySelector('p:nth-child(2)').textContent.split(',')[1];
        const city = addressCard.querySelector('p:nth-child(3)').textContent;
        const address = addressCard.querySelector('.address-specific').textContent;

        document.getElementById("editName").value = name;
        document.getElementById("editPhone").value = phone;
        document.getElementById("editCity").value = city;
        document.getElementById("editDistrict").value = district;
        document.getElementById("editWard").value = ward;
        document.getElementById("editSoNha").value = address;

        document.getElementById("editAddress").classList.add("show", "active");
        document.getElementById("account-address").classList.remove("show", "active");
        document.querySelector('[href="#editAddress"]').classList.add("active");
        document.querySelector('[href="#account-address"]').classList.remove("active");

        addressCard.classList.add("editing");
    }

    // Hàm lưu địa chỉ đã chỉnh sửa
    function saveUpdatedAddress() {
        const name = document.getElementById("editName").value;
        const phone = document.getElementById("editPhone").value;
        const city = document.getElementById("editCity").value;
        const district = document.getElementById("editDistrict").value;
        const ward = document.getElementById("editWard").value;
        const address = document.getElementById("editSoNha").value;

        if (!name || !phone || !city || !district || !ward || !address) {
            alert("Vui lòng điền đầy đủ thông tin.");
            return;
        }

        const addressCard = document.querySelector(".editing");
        if (!addressCard) {
            alert("Không tìm thấy địa chỉ để chỉnh sửa.");
            return;
        }

        addressCard.querySelector('strong').textContent = name;
        addressCard.querySelector('.text-muted').textContent = phone;
        addressCard.querySelector('p:nth-child(2)').textContent = `${ward}, ${district}`;
        addressCard.querySelector('p:nth-child(3)').textContent = city;
        addressCard.querySelector('.address-specific').textContent = address;

        document.getElementById("editAddress").classList.remove("show", "active");
        document.getElementById("account-address").classList.add("show", "active");
        document.querySelector('[href="#account-address"]').classList.add("active");
        document.querySelector('[href="#editAddress"]').classList.remove("active");

        addressCard.classList.remove("editing");
    }


    function cancelEditAddress() {
        document.getElementById("editAddress").classList.remove("show", "active");
        document.getElementById("account-address").classList.add("show", "active");
        document.querySelector('[href="#account-address"]').classList.add("active");
        document.querySelector('[href="#editAddress"]').classList.remove("active");

        document.getElementById("editName").value = "";
        document.getElementById("editPhone").value = "";
        document.getElementById("editCity").value = "";
        document.getElementById("editDistrict").value = "";
        document.getElementById("editWard").value = "";
    }
</script>

<script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>

</html>
