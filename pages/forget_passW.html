<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quên Mật Khẩu</title>
    <!--  jquery  -->
    <script src="/public/jquery-3.7.1.min.js"></script>
    <!--  bootstrap  -->
    <link rel="stylesheet" href="/public/bootstrap/css/bootstrap.css">
    <script src="/public/bootstrap/js/bootstrap.bundle.js"></script>
    <!--  css  -->
    <link rel="stylesheet" href="/layouts/layout.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <!--  js  -->
    <style>

        .card-custom {
            max-width: 32rem;
        }
        .
    </style>
    <script>
        $(document).ready(function () {
            $("#FOOTER").load("/includes/footer.html");
        });
    </script>
</head>
<body>
<div id="page">
    <div class="container d-flex justify-content-center align-items-center gap-xxl-5"
         style="min-height: 38rem; min-width: 40rem">
        <div class="">
            <img src="https://www.crocodileinternational.com/img/crocodile-logo-1609222037.jpg"
                 style="width: 30rem; height: auto;"
                 alt="...">
        </div>
        <div class="card shadow-sm card-custom">
            <div class="card-body">
                <h3 class="card-title mb-3 text-center">Hỗ Trợ Lấy Lại Mật Khẩu</h3>
                <div style="height: 2px; background-color: #dbdbdb; width: 100%;"></div>
                <p class="text-center mt-3">Vui lòng nhập số điện thoại hoặc email đã được liên kết với tài khoản
                    Crocodile của bạn.</p>
                <form id="forgotPasswordForm">
                    <!-- Nhập email hoặc số điện thoại -->
                    <div class="form-group mb-3">
                        <input type="text" class="form-control" id="usernameOrEmail"  required>
                    </div>

                    <!-- Nút gửi mã xác nhận -->
                    <div class="d-flex justify-content-center gap-4">
                        <button type="button" class="btn btn-secondary">Huỷ</button>

                        <button type="button" class="btn custom-btn-primary" id="sendCodeBtn">Gửi Mã</button>
                    </div>
                    <div style="height: 2px; background-color: #dbdbdb; width: 100%; margin: 15px 0;"></div>

                    <!-- Trường nhập mã xác nhận -->
                    <div class="form-group mb-2" id="verificationCodeField" style="display: none">
                        <label for="verificationCode" class="mb-2">Nhập mã xác nhận</label>
                        <input type="text" class="form-control" id="verificationCode" placeholder="Nhập mã gồm 6 chữ số"
                               maxlength="6" required>

                        <div class="d-flex justify-content-center mt-3">
                            <button type="submit" class="btn custom-btn-primary">Tìm Kiếm</button>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
    <div id="FOOTER"></div>

</div>

<script>
    $(document).ready(function () {
        // kiểm tra email và số điện thoại
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const phonePattern = /^\d{10,11}$/; // Số điện thoại có 10 hoặc 11 chữ số

        $('#sendCodeBtn').click(function () {
            let usernameOrEmail = $('#usernameOrEmail').val().trim();

            // Kiểm tra định dạng email hoặc số điện thoại
            if (emailPattern.test(usernameOrEmail) || phonePattern.test(usernameOrEmail)) {
                $('#verificationCodeField').show();

                // Giả lập gửi mã
                alert('Mã xác nhận đã được gửi tới ' + usernameOrEmail);
            } else {
                alert('Vui lòng nhập đúng định dạng Email hoặc Số điện thoại.');
            }
        });

        // Xử lý sự kiện submit form
        // Xử lý sự kiện submit form
        $('#forgotPasswordForm').submit(function (e) {
            e.preventDefault();
            let verificationCode = $('#verificationCode').val();
            if (verificationCode.length === 6) {
                alert('Xác nhận mã thành công. Đang xử lý yêu cầu...');

                // Điều hướng sang trang reset_passW.html
                window.location.href = 'reset_passW.html';
            } else {
                alert('Vui lòng nhập mã xác nhận gồm 6 chữ số.');
            }
        });

    });
</script>

</body>
</html>
